<html>

<header>
  <script>




      function get(url, headers){

        let p = new Promise((resolve, reject) => {

          var data = null;

          var xhr = new XMLHttpRequest();
          xhr.withCredentials = true;

          xhr.addEventListener("readystatechange", function () {
            if (this.readyState === 4) {

              resolve(this.responseText);
            }
          });

          xhr.open("GET", url);
          xhr.setRequestHeader("Cache-Control", headers["Cache-Control"]);
          xhr.setRequestHeader("Postman-Token", "5c34d61f-f315-834e-6bb7-54accac0e5bd");

          xhr.send(data);
          //document.getElementById('data').innerHTML = "Hey where is my data....";
        });

        return p;
      }

      function getData() {

        let headers ={"Cache-Control":"no-cache", "Authorization":"Basic asdasdasd"}
        get("https://jsonplaceholder.typicode.com/todos/7", headers).then(function(data){

          document.getElementById('data').innerHTML = data;
        }).catch( (error) => {

          document.getElementById('data').innerHTML = error;
        });

        console.log("here... comes first....");
      }




  </script>
</header>

<body>

  Hey there:: This is client calling API :: https://jsonplaceholder.typicode.com/todos/7

</br>
</br>
</br>
<button onclick="getData()"> SUBMIT </button>


<div id="data">

</div>


</body>

</html>
